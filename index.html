<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <title>Academia de Danza - Control de Clases</title>
  <link rel="manifest" href="manifest.json">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header>
    <img src="assets/logo.png" alt="logo">
    <h1>Academia de Danza — Control de Clases</h1>
    <div class="tabs">
      <div class="tab active" id="tab-alumno">Alumno</div>
      <div class="tab" id="tab-admin">Administrador</div>
    </div>
  </header>

  <main>
    <!-- ALUMNO -->
    <section class="card" id="alumno-panel">
      <h2>Acceso de Alumno</h2>
      <div class="row">
        <div class="input" style="flex:0 1 280px">
          <label>Código de 4 dígitos</label>
          <div class="code-box">
            <div id="code-display" class="code-dots">
              <div class="dot"></div><div class="dot"></div><div class="dot"></div><div class="dot"></div>
            </div>
            <button class="secondary" id="clear-code">Limpiar</button>
          </div>
          <div class="kbd" id="kbd-alumno">
            <button>1</button><button>2</button><button>3</button>
            <button>4</button><button>5</button><button>6</button>
            <button>7</button><button>8</button><button>9</button>
            <button class="wide" data-action="enter">ENTRAR</button>
            <button>0</button>
            <button class="wide" data-action="back">⌫</button>
          </div>
          <p class="small">Consejo: No hay zoom al digitar. La voz es en español (busca “Mónica” si tu dispositivo la tiene; hay fallback a otras voces es-ES/es-MX).</p>
        </div>
        <div class="input" style="flex:1">
          <label>Resultado</label>
          <div id="result-alumno" class="notice">Ingrese su código para continuar.</div>
          <div id="alumno-perfil" class="hide">
            <hr/>
            <div class="row" style="align-items:center">
              <img id="alumno-foto" src="" alt="foto" style="width:84px;height:84px;border-radius:10px;object-fit:cover;background:#0003">
              <div>
                <div id="alumno-nombre" style="font-weight:700"></div>
                <div id="alumno-clases" class="small"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ADMIN LOGIN -->
    <section class="card hide" id="admin-login">
      <h2>Entrar como Administrador</h2>
      <div class="row">
        <div class="input" style="flex:0 1 280px">
          <label>PIN de Administrador (4 dígitos)</label>
          <div class="code-box">
            <div id="admincode-display" class="code-dots">
              <div class="dot"></div><div class="dot"></div><div class="dot"></div><div class="dot"></div>
            </div>
            <button class="secondary" id="admin-clear-code">Limpiar</button>
          </div>
          <div class="kbd" id="kbd-admin">
            <button>1</button><button>2</button><button>3</button>
            <button>4</button><button>5</button><button>6</button>
            <button>7</button><button>8</button><button>9</button>
            <button class="wide" data-action="enter">ENTRAR</button>
            <button>0</button>
            <button class="wide" data-action="back">⌫</button>
          </div>
        </div>
        <div class="input" style="flex:1">
          <label>Consejos</label>
          <div class="notice">
            Predeterminado: <b>1234</b>. Cambia el PIN en <b>Configuración</b> una vez dentro.<br>
            Para notificaciones un día antes del fin de mes, permite las notificaciones del sitio.
          </div>
        </div>
      </div>
    </section>

    <!-- ADMIN APP -->
    <section class="card hide" id="admin-app">
      <h2>Administrador</h2>
      <div class="row">
        <!-- Registrar/Editar Alumno -->
        <div class="input" style="flex:1;min-width:280px">
          <label>Registro de Alumno</label>
          <div class="row">
            <div class="input"><small>Nombre</small><input id="reg-nombre" placeholder="Nombre completo"></div>
            <div class="input"><small>Código (4 dígitos)</small><input id="reg-codigo" inputmode="numeric" pattern="[0-9]*" maxlength="4" placeholder="0000"></div>
            <div class="input"><small>Teléfono (opcional)</small><input id="reg-telefono" inputmode="tel" placeholder="10 dígitos"></div>
            <div class="input"><small>Edad</small><input id="reg-edad" inputmode="numeric" pattern="[0-9]*" placeholder="Edad"></div>
            <div class="input"><small>Fecha de Nacimiento</small><input id="reg-dob" type="date"></div>
            <div class="input"><small>Foto de Perfil</small><input id="reg-foto" type="file" accept="image/*"></div>
          </div>
          <div class="row">
            <div class="input">
              <small>Paquete de clases</small>
              <select id="reg-paquete">
                <option value="1">Clase suelta (1)</option>
                <option value="2">2 clases</option>
                <option value="3">3 clases</option>
                <option value="4">4 clases</option>
                <option value="5">5 clases</option>
                <option value="6">6 clases</option>
                <option value="7">7 clases</option>
                <option value="8">8 clases</option>
                <option value="9">9 clases</option>
                <option value="10">10 clases</option>
                <option value="11">11 clases</option>
                <option value="12">12 clases</option>
              </select>
            </div>
            <div class="input">
              <small>Mes a programar</small>
              <input id="reg-mes" type="month">
            </div>
          </div>
          <div class="calendar" id="cal-panel">
            <div class="monthbar">
              <div><b>Selecciona exactamente los días del paquete</b></div>
              <div class="small" id="cal-counter">0 seleccionados</div>
            </div>
            <div class="grid" id="cal-grid"></div>
          </div>
          <div class="buttons" style="margin-top:.75rem">
            <button id="btn-guardar" class="ok">Crear nuevo alumno / Guardar cambios</button>
            <button class="secondary" id="btn-limpiar">Limpiar</button>
          </div>
          <div class="small">Nota: las clases no son acumulables. Si el alumno falta en el día programado, al terminar ese día la clase se marca como “perdida”.</div>
        </div>

        <!-- Lista + Perfil -->
        <div class="list" style="flex:1.2">
          <div class="students" id="lista-alumnos"></div>
          <div class="profile-pane">
            <div id="perfil-detalle">
              <div class="small">Selecciona “Perfil” en la lista para ver la información del alumno aquí abajo.</div>
            </div>
            <div class="sticky-bottom">
              <div class="buttons">
                <button id="btn-reagendar" class="secondary hide">Reagendar siguiente mes</button>
                <button id="btn-export" class="secondary">Exportar respaldo</button>
                <button id="btn-import" class="secondary">Importar respaldo</button>
                <button id="btn-config" class="secondary">Configuración</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <div id="toast" class="toast hide"></div>

  <script src="app.js"></script>
</body>
</html>
